{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let WaiterComponent = class WaiterComponent {\n  constructor(router, userService) {\n    this.router = router;\n    this.userService = userService;\n    this.page = 1;\n    this.user = new User();\n    this.error = \"\";\n  }\n  ngOnInit() {\n    let temp = localStorage.getItem(\"user\");\n    if (temp) {\n      this.user = JSON.parse(temp);\n    } else {\n      this.router.navigate([\"\"]);\n    }\n  }\n  navigateTo(newPage) {\n    this.page = newPage;\n  }\n  updateInfo() {\n    if (!this.user.forename || !this.user.surname || !this.user.address || !this.user.contactPhone || !this.user.email || !this.user.creditCardNumber) {\n      this.error = \"Fields can not be empty!\";\n      return;\n    }\n    this.userService.updateInfo(this.user.username, this.user.forename, this.user.surname, this.user.address, this.user.email, this.user.contactPhone, this.user.creditCardNumber).subscribe(data => {\n      if (data.msg === \"User information updated successfully!\") {\n        localStorage.setItem(\"user\", JSON.stringify(this.user));\n      }\n      alert(data.msg);\n      window.location.reload();\n    });\n  }\n};\nWaiterComponent = __decorate([Component({\n  selector: 'app-waiter',\n  templateUrl: './waiter.component.html',\n  styleUrls: ['./waiter.component.css']\n})], WaiterComponent);","map":{"version":3,"names":["Component","WaiterComponent","constructor","router","userService","page","user","User","error","ngOnInit","temp","localStorage","getItem","JSON","parse","navigate","navigateTo","newPage","updateInfo","forename","surname","address","contactPhone","email","creditCardNumber","username","subscribe","data","msg","setItem","stringify","alert","window","location","reload","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\ETF\\Domaci i Projekti\\PIA Projekat\\frontend\\src\\app\\waiter\\waiter.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-waiter',\n  templateUrl: './waiter.component.html',\n  styleUrls: ['./waiter.component.css']\n})\nexport class WaiterComponent {\n  constructor(private router:Router, private userService: UserService)\n  {\n\n  }\n\n  ngOnInit(): void {\n    let temp = localStorage.getItem(\"user\")\n    if(temp)\n    {\n      this.user = JSON.parse(temp);\n    }\n    else\n    {\n      this.router.navigate([\"\"]);\n    }\n\n\n  }\n\n  page: number = 1\n  user: User = new User()\n  error: string = \"\"\n\n  navigateTo(newPage: number)\n  {\n    this.page = newPage\n  }\n\n  updateInfo()\n  {\n    if (!this.user.forename || !this.user.surname || !this.user.address || !this.user.contactPhone ||\n      !this.user.email || !this.user.creditCardNumber) {\n      this.error = \"Fields can not be empty!\";\n      return;\n    }\n\n    this.userService.updateInfo(this.user.username, this.user.forename, this.user.surname, this.user.address, this.user.email, \n      this.user.contactPhone, this.user.creditCardNumber).subscribe((data:any) => {\n        if (data.msg === \"User information updated successfully!\")\n        {\n          localStorage.setItem(\"user\", JSON.stringify(this.user))\n        }\n\n        alert(data.msg)\n        window.location.reload();\n    })\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,WAAMC,eAAe,GAArB,MAAMA,eAAe;EAC1BC,YAAoBC,MAAa,EAAUC,WAAwB;IAA/C,KAAAD,MAAM,GAANA,MAAM;IAAiB,KAAAC,WAAW,GAAXA,WAAW;IAmBtD,KAAAC,IAAI,GAAW,CAAC;IAChB,KAAAC,IAAI,GAAS,IAAIC,IAAI,EAAE;IACvB,KAAAC,KAAK,GAAW,EAAE;EAlBlB;EAEAC,QAAQA,CAAA;IACN,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACvC,IAAGF,IAAI,EACP;MACE,IAAI,CAACJ,IAAI,GAAGO,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;KAC7B,MAED;MACE,IAAI,CAACP,MAAM,CAACY,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;;EAI9B;EAMAC,UAAUA,CAACC,OAAe;IAExB,IAAI,CAACZ,IAAI,GAAGY,OAAO;EACrB;EAEAC,UAAUA,CAAA;IAER,IAAI,CAAC,IAAI,CAACZ,IAAI,CAACa,QAAQ,IAAI,CAAC,IAAI,CAACb,IAAI,CAACc,OAAO,IAAI,CAAC,IAAI,CAACd,IAAI,CAACe,OAAO,IAAI,CAAC,IAAI,CAACf,IAAI,CAACgB,YAAY,IAC5F,CAAC,IAAI,CAAChB,IAAI,CAACiB,KAAK,IAAI,CAAC,IAAI,CAACjB,IAAI,CAACkB,gBAAgB,EAAE;MACjD,IAAI,CAAChB,KAAK,GAAG,0BAA0B;MACvC;;IAGF,IAAI,CAACJ,WAAW,CAACc,UAAU,CAAC,IAAI,CAACZ,IAAI,CAACmB,QAAQ,EAAE,IAAI,CAACnB,IAAI,CAACa,QAAQ,EAAE,IAAI,CAACb,IAAI,CAACc,OAAO,EAAE,IAAI,CAACd,IAAI,CAACe,OAAO,EAAE,IAAI,CAACf,IAAI,CAACiB,KAAK,EACvH,IAAI,CAACjB,IAAI,CAACgB,YAAY,EAAE,IAAI,CAAChB,IAAI,CAACkB,gBAAgB,CAAC,CAACE,SAAS,CAAEC,IAAQ,IAAI;MACzE,IAAIA,IAAI,CAACC,GAAG,KAAK,wCAAwC,EACzD;QACEjB,YAAY,CAACkB,OAAO,CAAC,MAAM,EAAEhB,IAAI,CAACiB,SAAS,CAAC,IAAI,CAACxB,IAAI,CAAC,CAAC;;MAGzDyB,KAAK,CAACJ,IAAI,CAACC,GAAG,CAAC;MACfI,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC5B,CAAC,CAAC;EACJ;CACD;AAhDYjC,eAAe,GAAAkC,UAAA,EAL3BnC,SAAS,CAAC;EACToC,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACWrC,eAAe,CAgD3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}